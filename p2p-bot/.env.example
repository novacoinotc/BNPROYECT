# =====================================================
# BINANCE P2P BOT - CONFIGURACIÓN
# =====================================================

# Binance API Credentials
BINANCE_API_KEY=your_api_key_here
BINANCE_API_SECRET=your_api_secret_here

# Binance API URLs
BINANCE_SAPI_URL=https://api.binance.com
BINANCE_WSS_URL=wss://stream.binance.com:9443

# Bot Configuration
BOT_MODE=production # development | production
BOT_TRADE_TYPE=SELL # BUY | SELL
BOT_ASSET=USDT # USDT | BTC | ETH | BNB
BOT_FIAT=MXN # MXN | USD | EUR | etc.

# Pricing Strategy (Legacy - usar POSITIONING para el nuevo sistema)
PRICING_STRATEGY=competitive # competitive | fixed | floating
PRICING_UNDERCUT_PERCENTAGE=0.1 # Porcentaje por debajo de competencia
PRICING_MIN_MARGIN=0.5 # Margen mínimo de ganancia %
PRICING_MAX_MARGIN=2.0 # Margen máximo de ganancia %
PRICING_UPDATE_INTERVAL_MS=30000 # Intervalo de actualización (30 seg)

# =====================================================
# POSICIONAMIENTO INTELIGENTE (Nuevo Sistema)
# =====================================================

# Modo de posicionamiento: smart | follow | manual | off
POSITIONING_MODE=smart

# === MODO INTELIGENTE (Smart) ===
# Filtros de vendedor
POSITIONING_MIN_USER_GRADE=2          # Nivel mínimo del vendedor (1-5)
POSITIONING_MIN_FINISH_RATE=0.90      # Tasa de completado mínima (0.90 = 90%)
POSITIONING_MIN_ORDER_COUNT=10        # Órdenes mínimas del mes
POSITIONING_MIN_POSITIVE_RATE=0.95    # Feedback positivo mínimo (0.95 = 95%)
POSITIONING_REQUIRE_ONLINE=true       # Solo competidores online
POSITIONING_REQUIRE_PRO_MERCHANT=false # Solo merchants verificados

# Filtros de anuncio
POSITIONING_MIN_SURPLUS=100           # Volumen mínimo disponible (USDT)
POSITIONING_MIN_MAX_TRANS=5000        # Monto máximo mínimo del anuncio (MXN)

# Estrategia de precio
POSITIONING_UNDERCUT_CENTS=1          # Centavos a bajar del mejor competidor
POSITIONING_UNDERCUT_PERCENT=0        # O porcentaje a bajar (0 = usar centavos)
POSITIONING_MIN_MARGIN=0.5            # Margen mínimo sobre referencia (%)
POSITIONING_MAX_MARGIN=2.0            # Margen máximo sobre referencia (%)

# Comportamiento
POSITIONING_UPDATE_INTERVAL=30000     # Intervalo de actualización (ms)
POSITIONING_MAX_COMPETITORS=20        # Cuántos competidores analizar

# === MODO SEGUIMIENTO (Follow) ===
FOLLOW_MODE_ENABLED=false             # Activar modo seguimiento
FOLLOW_TARGET_NICKNAME=               # Nickname del vendedor a seguir
FOLLOW_TARGET_USERNO=                 # O userNo (más estable que nickname)
FOLLOW_STRATEGY=undercut              # match | undercut
FOLLOW_UNDERCUT_CENTS=1               # Centavos a bajar si strategy=undercut
FOLLOW_FALLBACK_ENABLED=true          # Usar modo smart si target no está activo
FOLLOW_MIN_MARGIN=0.3                 # Margen mínimo de seguridad (%)
FOLLOW_MAX_MARGIN=2.0                 # Margen máximo de seguridad (%)
FOLLOW_UPDATE_INTERVAL=15000          # Intervalo de actualización (ms)

# Order Limits
ORDER_MIN_AMOUNT=500 # Monto mínimo en fiat
ORDER_MAX_AMOUNT=50000 # Monto máximo en fiat
ORDER_DAILY_LIMIT=500000 # Límite diario en fiat

# Payment Methods (comma separated)
PAYMENT_METHODS=BANK,SPEI # BANK, SPEI, OXXO, etc.

# Bank Webhook Configuration
BANK_WEBHOOK_SECRET=your_webhook_secret_here
BANK_WEBHOOK_PORT=3001

# Database (Neon PostgreSQL)
DATABASE_URL=postgresql://user:password@host:5432/database?sslmode=require

# Redis (Optional - for caching)
REDIS_URL=redis://localhost:6379

# OCR Configuration (for receipt verification)
OCR_ENABLED=true
OCR_PROVIDER=tesseract # tesseract | google-vision | aws-textract

# 2FA Configuration (for releasing crypto)
TWO_FA_TYPE=GOOGLE # GOOGLE | SMS | FIDO2
TWO_FA_SECRET=your_2fa_secret_here

# Logging
LOG_LEVEL=info # debug | info | warn | error

# Dashboard
DASHBOARD_PORT=3000
DASHBOARD_SECRET=your_dashboard_secret_here

# Notifications (Optional)
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_chat_id

# Risk Management
MAX_OPEN_ORDERS=5
AUTO_CANCEL_TIMEOUT_MINUTES=15
BUYER_MIN_COMPLETION_RATE=0.95 # 95%
BUYER_MIN_ORDERS=10
